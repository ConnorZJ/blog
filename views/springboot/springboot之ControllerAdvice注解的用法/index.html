<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringBootä¹‹ControllerAdviceæ³¨è§£çš„ç”¨æ³•ï¼ˆå…­ï¼‰ | CCCCCConnor</title>
    <meta name="description" content="Nothing Is True, Everything is Permitted">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/blog/bear.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.ffacbe9a.css" as="style"><link rel="preload" href="/blog/assets/js/app.13a36f43.js" as="script"><link rel="preload" href="/blog/assets/js/3.fcb306b0.js" as="script"><link rel="preload" href="/blog/assets/js/1.21f56b9c.js" as="script"><link rel="preload" href="/blog/assets/js/12.8114bc41.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.82a25298.js"><link rel="prefetch" href="/blog/assets/js/11.d84ebdbb.js"><link rel="prefetch" href="/blog/assets/js/13.6d5e8299.js"><link rel="prefetch" href="/blog/assets/js/14.b8439bc3.js"><link rel="prefetch" href="/blog/assets/js/15.582ac870.js"><link rel="prefetch" href="/blog/assets/js/16.d68cc7fb.js"><link rel="prefetch" href="/blog/assets/js/17.202144cd.js"><link rel="prefetch" href="/blog/assets/js/18.bb67ea33.js"><link rel="prefetch" href="/blog/assets/js/19.6d1270c4.js"><link rel="prefetch" href="/blog/assets/js/20.81a977bf.js"><link rel="prefetch" href="/blog/assets/js/21.7d01224b.js"><link rel="prefetch" href="/blog/assets/js/22.e205007d.js"><link rel="prefetch" href="/blog/assets/js/23.c01b77dc.js"><link rel="prefetch" href="/blog/assets/js/4.40dc2ac2.js"><link rel="prefetch" href="/blog/assets/js/5.8bd7e3ec.js"><link rel="prefetch" href="/blog/assets/js/6.0eb6eff6.js"><link rel="prefetch" href="/blog/assets/js/7.39160b6c.js"><link rel="prefetch" href="/blog/assets/js/8.b77774d5.js"><link rel="prefetch" href="/blog/assets/js/9.2a74b038.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.ffacbe9a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-1a137c56><div data-v-1a137c56><div id="loader-wrapper" class="loading-wrapper" data-v-c01c9394 data-v-1a137c56 data-v-1a137c56><div class="loader-main" data-v-c01c9394><div data-v-c01c9394></div><div data-v-c01c9394></div><div data-v-c01c9394></div><div data-v-c01c9394></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-3f487c7f data-v-1a137c56 data-v-1a137c56><h3 class="title" style="display:none;" data-v-3f487c7f data-v-3f487c7f>CCCCCConnor</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-3f487c7f data-v-3f487c7f><input type="password" value="" data-v-3f487c7f> <span data-v-3f487c7f>Konck! Knock!</span> <button data-v-3f487c7f>OK</button></label> <div class="footer" style="display:none;" data-v-3f487c7f data-v-3f487c7f><span data-v-3f487c7f><i class="iconfont reco-theme" data-v-3f487c7f></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-3f487c7f>vuePress-theme-reco</a></span> <span data-v-3f487c7f><i class="iconfont reco-copyright" data-v-3f487c7f></i> <a data-v-3f487c7f><span data-v-3f487c7f>Xiong ZiJie</span>
          Â Â 
          <span data-v-3f487c7f>2019 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-1a137c56><header class="navbar" data-v-1a137c56><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">CCCCCConnor</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/spring boot/" class="nav-link"><i class="iconfont undefined"></i>
  spring boot
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ConnorZJ" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1a137c56></div> <aside class="sidebar" data-v-1a137c56><div class="personal-info-wrapper" data-v-3527f0f2><img src="/blog/avatar.png" alt="author-avatar" class="personal-img" data-v-3527f0f2> <h3 class="name" data-v-3527f0f2>
    Xiong ZiJie
  </h3> <div class="num" data-v-3527f0f2><div data-v-3527f0f2><h3 data-v-3527f0f2>12</h3> <h6 data-v-3527f0f2>æ–‡ç« </h6></div> <div data-v-3527f0f2><h3 data-v-3527f0f2>1</h3> <h6 data-v-3527f0f2>æ ‡ç­¾</h6></div></div> <hr data-v-3527f0f2></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/spring boot/" class="nav-link"><i class="iconfont undefined"></i>
  spring boot
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/ConnorZJ" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SpringBootä¹‹ControllerAdviceæ³¨è§£çš„ç”¨æ³•ï¼ˆå…­ï¼‰</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/views/springboot/springboot%E4%B9%8BControllerAdvice%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%94%A8%E6%B3%95/#controlleradviceçš„ä½¿ç”¨åœºæ™¯" class="sidebar-link">ControllerAdviceçš„ä½¿ç”¨åœºæ™¯</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/views/springboot/springboot%E4%B9%8BControllerAdvice%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%94%A8%E6%B3%95/#å…¨å±€æ•°æ®ç»‘å®š" class="sidebar-link">å…¨å±€æ•°æ®ç»‘å®š</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/views/springboot/springboot%E4%B9%8BControllerAdvice%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%94%A8%E6%B3%95/#å…¨å±€æ•°æ®é¢„å¤„ç†" class="sidebar-link">å…¨å±€æ•°æ®é¢„å¤„ç†</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/views/springboot/springboot%E4%B9%8BControllerAdvice%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%94%A8%E6%B3%95/#å…¨å±€å¼‚å¸¸å¤„ç†" class="sidebar-link">å…¨å±€å¼‚å¸¸å¤„ç†</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-3f487c7f data-v-1a137c56><h3 class="title" style="display:none;" data-v-3f487c7f data-v-3f487c7f>SpringBootä¹‹ControllerAdviceæ³¨è§£çš„ç”¨æ³•ï¼ˆå…­ï¼‰</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-3f487c7f data-v-3f487c7f><input type="password" value="" data-v-3f487c7f> <span data-v-3f487c7f>Konck! Knock!</span> <button data-v-3f487c7f>OK</button></label> <div class="footer" style="display:none;" data-v-3f487c7f data-v-3f487c7f><span data-v-3f487c7f><i class="iconfont reco-theme" data-v-3f487c7f></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-3f487c7f>vuePress-theme-reco</a></span> <span data-v-3f487c7f><i class="iconfont reco-copyright" data-v-3f487c7f></i> <a data-v-3f487c7f><span data-v-3f487c7f>Xiong ZiJie</span>
          Â Â 
          <span data-v-3f487c7f>2019 - </span>
          2020
        </a></span></div></div> <div data-v-1a137c56><main class="page"><!----> <div class="page-title" style="display:none;"><h1>SpringBootä¹‹ControllerAdviceæ³¨è§£çš„ç”¨æ³•ï¼ˆå…­ï¼‰</h1> <hr> <div data-v-4687a95a><i class="iconfont reco-account" data-v-4687a95a><span data-v-4687a95a>Xiong ZiJie</span></i> <i class="iconfont reco-date" data-v-4687a95a><span data-v-4687a95a>2020-04-14</span></i> <!----> <i class="iconfont reco-tag tags" data-v-4687a95a><span class="tag-item" data-v-4687a95a>
      spring boot
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="spring-boot-ä¹‹-controlleradviceæ³¨è§£çš„ç”¨æ³•"><a href="#spring-boot-ä¹‹-controlleradviceæ³¨è§£çš„ç”¨æ³•" class="header-anchor">#</a> spring boot ä¹‹ ControllerAdviceæ³¨è§£çš„ç”¨æ³•</h1> <p>@ControllerAdviceè¿™ä¸ªæ³¨è§£ä¸æ˜¯åœ¨springbootç‹¬æœ‰çš„ï¼Œå®ƒåœ¨springMVCå°±å·²ç»è¢«å¹¿æ³›çš„ä½¿ç”¨äº†ï¼Œä½†ä¸ºä»€ä¹ˆè¿˜è¦åœ¨springbootä¹‹ä¸­é‡æ–°å­¦ä¹ å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ<strong>é‚£è¿˜ä¸æ˜¯æˆ‘ä»¥å‰æ²¡æ€ä¹ˆä½¿ç”¨è¿‡å˜›â€‹ ğŸ˜‚(é€ƒè¿‡çš„è¯¾è¿˜æ˜¯è¦è¡¥å›æ¥çš„)</strong></p> <h2 id="controlleradviceçš„ä½¿ç”¨åœºæ™¯"><a href="#controlleradviceçš„ä½¿ç”¨åœºæ™¯" class="header-anchor">#</a> ControllerAdviceçš„ä½¿ç”¨åœºæ™¯</h2> <p>@ControllerAdviceæ³¨è§£çœ‹åå­—å°±èƒ½å¤ŸçŸ¥é“ï¼Œæ˜¯å¯¹Controllerç±»çš„ä¸€ä¸ªå¢å¼ºã€‚åˆ°åº•å¦‚ä½•å¢å¼ºå‘¢ï¼Ÿæ¥çœ‹çœ‹å®ƒçš„åŠŸèƒ½æœ‰å“ªäº›ã€‚</p> <ul><li>å…¨å±€å¼‚å¸¸å¤„ç†</li> <li>å…¨å±€æ•°æ®ç»‘å®š</li> <li>å…¨å±€æ•°æ®é¢„å¤„ç†</li></ul> <h2 id="å…¨å±€æ•°æ®ç»‘å®š"><a href="#å…¨å±€æ•°æ®ç»‘å®š" class="header-anchor">#</a> å…¨å±€æ•°æ®ç»‘å®š</h2> <p>å…¨å±€æ•°æ®ç»‘å®šå¯ä»¥ç”¨æ¥åœ¨æ¯ä¸ªControllerç±»ä¸­ï¼Œä½¿ç”¨åˆ°ä¸€äº›å…¨å±€çš„åˆå§‹åŒ–çš„æ•°æ®ã€‚åªè¦åœ¨ControllerAdviceä¸­é…ç½®ä¸€ä¸‹ï¼Œå°±èƒ½å¤Ÿè¾¾åˆ°åˆå§‹åŒ–å‚æ•°çš„æ•ˆæœã€‚</p> <p>é¦–å…ˆåˆ›é€ ä¸€ä¸ªç±»ï¼Œæ ‡è®°ä¸ŠControllerAdviceæ³¨è§£ï¼Œç„¶ååœ¨é‡Œé¢æ–¹æ³•å®šä¹‰ä¸€ä¸ªListé›†åˆï¼Œå¹¶ç»™è¿™ä¸ªé›†åˆèµ‹å€¼ï¼Œåœ¨æ–¹æ³•ä¸Šæ·»åŠ ä¸€ä¸ªModelAttributeæ³¨è§£ï¼Œå¹¶åœ¨æ­¤æ³¨è§£çš„å‚æ•°çµ¦ä¸€å€¼ã€‚è¿™æ ·ï¼Œå°±è¾¾åˆ°äº†é›†åˆä¸è¿™ä¸ªå€¼ç»‘å®šäº†çš„æ•ˆæœã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerAdviceConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">initListData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>æ¥ä¸‹æ¥å°±æ˜¯ä½¿ç”¨è¿™ä¸ªé›†åˆçš„æ—¶å€™äº†ï¼Œåœ¨Controllerä¸­æ–°å»ºä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•å‚æ•°å°±æ”¾ä¸€ä¸ªModelå¯¹è±¡ï¼Œä½¿ç”¨model.asMap()æ–¹æ³•å°±èƒ½å°†å…¨å±€ç»‘å®šçš„æ•°æ®å–å‡ºæ¥ï¼Œå–å‡ºçš„æ ¼å¼æ˜¯ä¸€ä¸ªmapé›†åˆï¼Œkeyæ˜¯åœ¨ModelAttributeä¸­å®šä¹‰çš„ï¼Œvalueè‡ªç„¶å°±ä¸ä¹‹ç»‘å®šçš„å€¼ã€‚æ­¤æ—¶æˆ‘ä»¬å°†è¿™ä¸ªå€¼å–å‡ºæ¥ï¼Œå¹¶ä¸”å¼ºè½¬æˆListã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/listAll&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">listAll</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> usernameMap <span class="token operator">=</span> model<span class="token punctuation">.</span><span class="token function">asMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> usernameList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> usernameMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> usernameList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>é¡µé¢ä¸Šå¯ä»¥çœ‹åˆ°æ•ˆæœï¼Œè¿”å›çš„å°±æ˜¯åœ¨initListDataä¸­å­˜å…¥çš„listé›†åˆçš„æ•°æ®ã€‚</p> <p><img src="http://qiniuyun.zijie.fun/20200414231858.png" alt=""></p> <h2 id="å…¨å±€æ•°æ®é¢„å¤„ç†"><a href="#å…¨å±€æ•°æ®é¢„å¤„ç†" class="header-anchor">#</a> å…¨å±€æ•°æ®é¢„å¤„ç†</h2> <p>å‡å¦‚æˆ‘æœ‰ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªParentå’Œä¸€ä¸ªSonï¼Œä»–ä»¬çš„å±æ€§éƒ½æ˜¯nameå’Œageï¼Œé‚£ä¹ˆæˆ‘åœ¨controlleræ–¹æ³•é‡ŒåŒæ—¶æ¥æ”¶è¿™ä¸¤ä¸ªå¯¹è±¡ï¼ŒåŒæ—¶è¯·æ±‚ä¸­ä¹Ÿä¼ å…¥nameå’Œageçš„å€¼ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

	<span class="token comment">// getters and setters and toString</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

	<span class="token comment">// getters and setters and toString</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveParent</span><span class="token punctuation">(</span><span class="token class-name">Parent</span> parent<span class="token punctuation">,</span> <span class="token class-name">Son</span> son<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="http://qiniuyun.zijie.fun/20200414234042.png" alt=""></p> <p><img src="http://qiniuyun.zijie.fun/20200414233954.png" alt=""></p> <p>é€šè¿‡ä¸Šè¿°æµ‹è¯•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ–¹æ³•å…¥å‚æ ¹æœ¬åˆ¤æ–­ä¸äº†nameå’Œageåˆ°åº•åº”è¯¥ç»™åˆ°å“ªä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™å°±åˆ°äº†<strong>ControllerAdvice</strong>å¤§å±•èº«æ‰‹çš„æ—¶å€™äº†ï¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerAdviceConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@InitBinder</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initParent</span><span class="token punctuation">(</span><span class="token class-name">WebDataBinder</span> binder<span class="token punctuation">)</span><span class="token punctuation">{</span>
        binder<span class="token punctuation">.</span><span class="token function">setFieldDefaultPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;parent.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@InitBinder</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;son&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initSon</span><span class="token punctuation">(</span><span class="token class-name">WebDataBinder</span> binder<span class="token punctuation">)</span><span class="token punctuation">{</span>
        binder<span class="token punctuation">.</span><span class="token function">setFieldDefaultPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;son.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveParent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Parent</span> parent<span class="token punctuation">,</span> <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;son&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Son</span> son<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åœ¨ControllerAdviceé…ç½®ä¸­ï¼Œæ·»åŠ å¦‚ä¸Šä¸¤ä¸ªæ–¹æ³•ï¼Œå«ä¹‰æ˜¯ï¼šåˆ†åˆ«å°†ä¼ å…¥çš„å…¥å‚çš„å‰ç¼€ç»‘å®šåˆ°ç›¸åº”çš„å¯¹è±¡ä¹‹ä¸­ï¼Œæ­¤æ—¶é‡å¯é¡¹ç›®å¹¶å†æµ‹è¯•ä¸€ä¸‹ã€‚</p> <p><img src="http://qiniuyun.zijie.fun/20200414234623.png" alt=""></p> <p><img src="http://qiniuyun.zijie.fun/20200414234635.png" alt=""></p> <p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®é¢„å¤„ç†æˆåŠŸäº†ã€‚</p> <h2 id="å…¨å±€å¼‚å¸¸å¤„ç†"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†" class="header-anchor">#</a> å…¨å±€å¼‚å¸¸å¤„ç†</h2> <p>ControllerAdviceæœ€å¹¿æ³›ä½¿ç”¨çš„åœºæ™¯ï¼Œå°±æ˜¯å¤„ç†å…¨å±€å¼‚å¸¸äº†ã€‚</p> <p>ä»€ä¹ˆ å¤„ç†å…¨å±€å¼‚å¸¸ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼Œåœ¨controllerçš„æ¯ä¸€ä¸ªæ–¹æ³•éƒ½æœ‰å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œæœ‰æ—¶å€™å¼‚å¸¸å¯èƒ½æ˜¯è‡ªå·±å®šä¹‰çš„ï¼Œæœ‰æ—¶å€™å¼‚å¸¸ä¹Ÿå¯èƒ½æ˜¯RunTimeExceptionã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨æ¯ä¸€ä¸ªæ–¹æ³•é‡Œå¤„ç†ï¼Œå°±ä¼šæ˜¾å¾—æ¯”è¾ƒç´¯èµ˜ï¼Œè€Œé€šè¿‡å…¨å±€å¼‚å¸¸å¤„ç†ï¼Œå¯ä»¥è¾¾åˆ°é…ç½®ä¸€å¤„è€Œå¤„å¤„ç”Ÿæ•ˆçš„æ•ˆæœã€‚æ¯”å¦‚è¯´æ˜¯ï¼Œåœ¨ControllerAdviceä¸­é…ç½®äº†è¿”å›å¼‚å¸¸çš„ä¿¡æ¯ï¼Œå‰ç«¯å°±èƒ½çœ‹åˆ°åˆ°åº•æ˜¯ä»€ä¹ˆå¼‚å¸¸è¢«æŠ›å‡ºäº†ï¼Œè€Œä¸æ˜¯å„ç§å¼‚å¸¸ä¸åŒæ ¼å¼ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/null&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Parent</span> <span class="token function">getNullPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Parent</span> parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        parent<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>é¦–å…ˆåœ¨controllerä¸­æ•…æ„è®¾ç½®ä¸€ä¸ªä¼šæŠ›ç©ºæŒ‡é’ˆçš„é”™ï¼Œç„¶ååœ¨é…ç½®ä¸­å¢åŠ ä»¥ä¸‹ä»£ç ï¼š</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ControllerAdviceConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">NullPointerException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleNullPointException</span><span class="token punctuation">(</span><span class="token class-name">NullPointerException</span> e<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ExceptionHandleræ³¨è§£æ˜¯ç”¨æ¥å£°æ˜å¤„ç†å“ªä¸€ä¸ªå¼‚å¸¸çš„ï¼Œæ¯”å¦‚è¿™é‡Œå£°æ˜å¤„ç†ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œé‚£ä¹ˆåœ¨controllerä¸­æŠ›å‡ºäº†ç©ºæŒ‡é’ˆå¼‚å¸¸çš„æ—¶å€™ï¼Œéƒ½ä¼šèµ°åˆ°è¿™ä¸ªæ–¹æ³•é‡Œé¢</p> <p><img src="http://qiniuyun.zijie.fun/20200415001800.png" alt=""></p> <p>ä¹‹åä¹Ÿå¯ä»¥å†™å¤šä¸ªç±»ä¼¼è¿™ä¸ªçš„æ–¹æ³•ï¼Œå£°æ˜ä¸åŒçš„å¼‚å¸¸ï¼Œå¯ä»¥è®©å¤„ç†çš„å¼‚å¸¸ç±»å‹ä¸°å¯Œèµ·æ¥ï¼Œä¹Ÿå¯ä»¥åœ¨æ–¹æ³•é‡Œè¿”å›ä¸€ä¸ªè§†å›¾ModelAndViewæˆ–è€…è¿”å›ä¸€ä¸ªé”™è¯¯å¯¹è±¡ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯ä¸€ç§<strong>å‰ç«¯å‹å¥½å‘</strong>çš„åšæ³•ï¼</p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/15/2020, 11:07:14 PM</span></div></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-1a137c56><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-566b5166 data-v-566b5166><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-566b5166><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-566b5166></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-566b5166></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><div class="kanbanniang" data-v-ee8d62e6><div class="banniang-container" style="display:;" data-v-ee8d62e6><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-ee8d62e6>
      æ¬¢è¿æ¥åˆ° CCCCCConnor
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-ee8d62e6><i class="kbnfont kbn-ban-home ban-home" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-message message" data-v-ee8d62e6></i> <i class="kbnfont kbn-ban-close close" data-v-ee8d62e6></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-ee8d62e6><i class="kbnfont kbn-ban-info info" data-v-ee8d62e6></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-ee8d62e6></i></div> <canvas id="banniang" width="150" height="220" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-ee8d62e6></canvas></div> <div class="showBanNiang" style="display:none;" data-v-ee8d62e6>
    çœ‹æ¿å¨˜
  </div></div></div></div>
    <script src="/blog/assets/js/app.13a36f43.js" defer></script><script src="/blog/assets/js/3.fcb306b0.js" defer></script><script src="/blog/assets/js/1.21f56b9c.js" defer></script><script src="/blog/assets/js/12.8114bc41.js" defer></script>
  </body>
</html>
